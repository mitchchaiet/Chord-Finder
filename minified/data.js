function Keys(){var a=false;var b=[{chords:[{chord:"C",modf:"major",type:"Tonic"},{chord:"F",modf:"major",type:"Sub Dominant"},{chord:"G",modf:"7",type:"dom"},{chord:"D",modf:"7",type:"Double Dominant"},{chord:"A",modf:"7",type:"Triple Dominant"},{chord:"E",modf:"7",type:"dom_rel_minor"},{chord:"A",modf:"minor",type:"Minor 1"},{chord:"D",modf:"minor",type:"Minor 2"},{chord:"E",modf:"7",type:"Minor 3"}],key:"C",signature:"0"},{chords:[{chord:"G",modf:"major",type:"Tonic"},{chord:"C",modf:"major",type:"Sub Dominant"},{chord:"D",modf:"7",type:"dom"},{chord:"A",modf:"7",type:"Double Dominant"},{chord:"E",modf:"7",type:"Triple Dominant"},{chord:"B",modf:"7",type:"dom_rel_minor"},{chord:"E",modf:"minor",type:"Minor 1"},{chord:"A",modf:"minor",type:"Minor 2"},{chord:"B",modf:"7",type:"Minor 3"}],key:"G",signature:"1#"},{chords:[{chord:"D",modf:"major",type:"Tonic"},{chord:"G",modf:"major",type:"Sub Dominant"},{chord:"A",modf:"7",type:"dom"},{chord:"E",modf:"7",type:"Double Dominant"},{chord:"B",modf:"7",type:"Triple Dominant"},{chord:"F#",modf:"7",type:"dom_rel_minor"},{chord:"B",modf:"minor",type:"Minor 1"},{chord:"E",modf:"minor",type:"Minor 2"},{chord:"F#",modf:"7",type:"Minor 3"}],key:"D",signature:"2#"},{chords:[{chord:"A",modf:"major",type:"Tonic"},{chord:"D",modf:"major",type:"Sub Dominant"},{chord:"E",modf:"7",type:"dom"},{chord:"B",modf:"7",type:"Double Dominant"},{chord:"F#",modf:"7",type:"Triple Dominant"},{chord:"C#",modf:"7",type:"dom_rel_minor"},{chord:"F#",modf:"minor",type:"Minor 1"},{chord:"B",modf:"minor",type:"Minor 2"},{chord:"C#",modf:"7",type:"Minor 3"}],key:"A",signature:"3#"},{chords:[{chord:"E",modf:"major",type:"Tonic"},{chord:"A",modf:"major",type:"Sub Dominant"},{chord:"B",modf:"7",type:"dom"},{chord:"F#",modf:"7",type:"Double Dominant"},{chord:"C#",modf:"7",type:"Triple Dominant"},{chord:"Ab",modf:"7",type:"dom_rel_minor"},{chord:"C#",modf:"minor",type:"Minor 1"},{chord:"F#",modf:"minor",type:"Minor 2"},{chord:"G#",modf:"7",type:"Minor 3"}],key:"E",signature:"4#"},{chords:[{chord:"B",modf:"major",type:"Tonic"},{chord:"E",modf:"major",type:"Sub Dominant"},{chord:"F#",modf:"7",type:"dom"},{chord:"C#",modf:"7",type:"Double Dominant"},{chord:"Ab",modf:"7",type:"Triple Dominant"},{chord:"Eb",modf:"7",type:"dom_rel_minor"},{chord:"G#",modf:"minor",type:"Minor 1"},{chord:"C#",modf:"minor",type:"Minor 2"},{chord:"D#",modf:"7",type:"Minor 3"}],key:"B",signature:"5#"},{chords:[{chord:"F#",modf:"major",type:"Tonic"},{chord:"B",modf:"major",type:"Sub Dominant"},{chord:"C#",modf:"7",type:"dom"},{chord:"Ab",modf:"7",type:"Double Dominant"},{chord:"Eb",modf:"7",type:"Triple Dominant"},{chord:"Bb",modf:"7",type:"dom_rel_minor"},{chord:"D#",modf:"minor",type:"Minor 1"},{chord:"G#",modf:"minor",type:"Minor 2"},{chord:"A#",modf:"7",type:"Minor 3"}],key:"F#",signature:"6#(b)"},{chords:[{chord:"Db",modf:"major",type:"Tonic"},{chord:"Gb",modf:"major",type:"Sub Dominant"},{chord:"Ab",modf:"7",type:"dom"},{chord:"Eb",modf:"7",type:"Double Dominant"},{chord:"Bb",modf:"7",type:"Triple Dominant"},{chord:"F",modf:"7",type:"dom_rel_minor"},{chord:"Bb",modf:"minor",type:"Minor 1"},{chord:"Eb",modf:"major",type:"Minor 2"},{chord:"F",modf:"7",type:"Minor 3"}],key:"Db",signature:"5b"},{chords:[{chord:"Ab",modf:"major",type:"Tonic"},{chord:"Db",modf:"major",type:"Sub Dominant"},{chord:"Eb",modf:"7",type:"dom"},{chord:"Bb",modf:"7",type:"Double Dominant"},{chord:"F",modf:"7",type:"Triple Dominant"},{chord:"C",modf:"7",type:"dom_rel_minor"},{chord:"F",modf:"minor",type:"Minor 1"},{chord:"Bb",modf:"minor",type:"Minor 2"},{chord:"C",modf:"7",type:"Minor 3"}],key:"Ab",signature:"4b"},{chords:[{chord:"Eb",modf:"major",type:"Tonic"},{chord:"Ab",modf:"major",type:"Sub Dominant"},{chord:"Bb",modf:"7",type:"dom"},{chord:"F",modf:"7",type:"Double Dominant"},{chord:"C",modf:"7",type:"Triple Dominant"},{chord:"G",modf:"7",type:"dom_rel_minor"},{chord:"C",modf:"minor",type:"Minor 1"},{chord:"F",modf:"minor",type:"Minor 2"},{chord:"G",modf:"7",type:"Minor 3"}],key:"Eb",signature:"3b"},{chords:[{chord:"Bb",modf:"major",type:"Tonic"},{chord:"Eb",modf:"major",type:"Sub Dominant"},{chord:"F",modf:"7",type:"dom"},{chord:"C",modf:"7",type:"Double Dominant"},{chord:"G",modf:"7",type:"Triple Dominant"},{chord:"D",modf:"7",type:"dom_rel_minor"},{chord:"G",modf:"minor",type:"Minor 1"},{chord:"C",modf:"minor",type:"Minor 2"},{chord:"D",modf:"7",type:"Minor 3"}],key:"Bb",signature:"2b"},{chords:[{chord:"F",modf:"major",type:"Tonic"},{chord:"Bb",modf:"major",type:"Sub Dominant"},{chord:"C",modf:"7",type:"dom"},{chord:"G",modf:"7",type:"Double Dominant"},{chord:"D",modf:"7",type:"Triple Dominant"},{chord:"A",modf:"7",type:"dom_rel_minor"},{chord:"D",modf:"minor",type:"Minor 1"},{chord:"G",modf:"minor",type:"Minor 2"},{chord:"A",modf:"7",type:"Minor 3"}],key:"F",signature:"1b"}];var c=[{e:"1",a:"2",d:"3",g:"4",b:"5",e2:"6"}];var d={major:"",minor:"m",7:"7"};var e=$(".fretboard canvas");buildComplete=function(){var a=$(".fretboard canvas.ready").length;if(a==e.length){loading(false)}};finger=function(a,b,c,d){e[d].getContext("2d").fillStyle=c;e[d].getContext("2d").beginPath();e[d].getContext("2d").arc(a,b,e.height()*.04,0,Math.PI*2,false);e[d].getContext("2d").closePath();e[d].getContext("2d").fill()};guitarString=function(a,b,c,d){e[d].getContext("2d").lineWidth=b;e[d].getContext("2d").beginPath();e[d].getContext("2d").moveTo(a,0);e[d].getContext("2d").lineTo(a,e.height());e[d].getContext("2d").strokeStyle=c;e[d].getContext("2d").stroke()};fret=function(a,b,c,d){e[d].getContext("2d").lineWidth=b;e[d].getContext("2d").beginPath();e[d].getContext("2d").moveTo(0,a);e[d].getContext("2d").lineTo(e.width()*2,a);e[d].getContext("2d").strokeStyle=c;e[d].getContext("2d").stroke()};fingerY=function(a){return e.height()/8*a-e.height()/8/2};buildFrets=function(a,b,d,f,g){e.attr("height",$(".fretboard").height());e.attr("width",$(".fretboard").width());var h=e.height()/8;var i=e.width()/7;var j=d;var k=b?"&modf="+escape(b):"";var l="http://pargitaru.co.cc/api/?request=chords&chord="+escape(a)+k;$.get(l,function(a){sessionStorage.setItem(f+"-"+g,JSON.stringify(a.chords[0]));for(var b=1;b<8;b++){fret(h*b,1,"#ccc",j)}for(var b=1;b<7;b++){guitarString(i*b,4-b,"#666",j)}$.each(a.chords[0],function(a,b){if(b!=0){finger(i*c[0][a],fingerY(b),"#09f",j)}});$(".fretboard canvas:eq("+d+")").addClass("ready");buildComplete()},"jsonp")};loading=function(a){$("html, body").animate({scrollTop:0},0);center_preloader();if(a){$("#preloader-bg").css({display:"inherit"});$("#preloader").css({display:"inherit"})}else{$("#preloader-bg").css({display:"none"});$("#preloader").css({display:"none"})}};center_preloader=function(){var a=$(window).height();var b=$(window).width();var c=$(document).height();var d=a/2-$("#preloader").height()/2;var e=$(document).scrollTop()+d;var f=b/2-$("#preloader").width()/2;$("#preloader-bg").css({height:c,width:b});$("#preloader").css({top:e,left:f})};return{init:function(){$.each(b,function(a,b){$("#key ul").append('<li rel="'+a+'">'+b.key+"</li>")});$("#key ul li").click(function(){loading(true);$("#key").css({display:"none"});$("#results").css({display:"inherit"});$(".chord").removeClass("hidden");$(".fretboard").removeClass("visible");$("#selected-key").html($(this).text());$("#key").addClass("selected");$("#key ul li").removeClass("active");$(this).addClass("active");id=$(this).attr("rel");for(var a=0;a<9;a++){buildFrets(b[id].chords[a].chord,b[id].chords[a].modf,a,b[id].chords[a].type);$(".chord:eq("+a+")").html(b[id].chords[a].chord+d[b[id].chords[a].modf])}});$("ul.chord-set li .chord-holder").click(function(){$(this).find(".chord").toggleClass("hidden");$(this).find(".fretboard").toggleClass("visible")});$("button").click(function(){$("#key").css({display:"inherit"});$("#results").css({display:"none"});$("html, body").animate({scrollTop:0},0)});window.onresize=function(){center_preloader()}}}}var keys=new Keys;keys.init()